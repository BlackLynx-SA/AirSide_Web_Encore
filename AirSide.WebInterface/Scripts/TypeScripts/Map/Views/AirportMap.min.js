function setTask(n,t){var i=controller;i.selectedTask=n;$("#taskLabel").html(t);i.lastFilter==="assets"?i.filterAssets():i.lastFilter==="areas"&&i.filterAreas()}function changeMap(n){n==="Satellite"?controller.map.setMapTypeId(google.maps.MapTypeId.SATELLITE):n==="Roadmap"?controller.map.setMapTypeId(google.maps.MapTypeId.ROADMAP):n==="Hybrid"?controller.map.setMapTypeId(google.maps.MapTypeId.HYBRID):n==="Terrain"&&controller.map.setMapTypeId(google.maps.MapTypeId.TERRAIN)}var _this=this,controller;$(document).ready(function(){$("#timepicker").timepicker();$(document).on("airportmap.init",function(n,t){controller=t});$(document).on("mapcenter.get",function(n,t){controller.centerLat=t[0];controller.centerLong=t[1];controller.drawMap();controller.services.getMultiAssetLocations()});$(document).on("assets.get",function(n,t){controller.assets=t;controller.filterAssets(!0);$("#mapLoader").hide();$("#mapMenuItems").fadeIn(300);controller.services.getSubAreas()});$(document).on("click",".show_assets_btn",function(){controller.getSelectedAssets()});$(document).on("subareas.get",function(n,t){controller.subAreas=t});$(document).on("fbtech.get",function(n,t){controller.fbTechData=t;controller.processFbTechData()});$(document).on("surveyor.get",function(n,t){controller.surveyorData=t;controller.processSurveyData()});$(document).on("multiassetlocation.get",function(n,t){controller.multiAssets=t;controller.services.getAssets()});$("input.from").datepicker({changeMonth:!0,numberOfMonths:3,dateFormat:"yy/mm/dd",prevText:'<i class="fa fa-chevron-left"><\/i>',nextText:'<i class="fa fa-chevron-right"><\/i>',onClose:function(n){$("input.to").datepicker({minDate:n})},beforeShow:function(){setTimeout(function(){$(".ui-datepicker").css("z-index",9999)},0)}});$("input.to").datepicker({defaultDate:"+1w",changeMonth:!0,numberOfMonths:3,dateFormat:"yy/mm/dd",prevText:'<i class="fa fa-chevron-left"><\/i>',nextText:'<i class="fa fa-chevron-right"><\/i>',onClose:function(n){$("input.from").datepicker({maxDate:n})},beforeShow:function(){setTimeout(function(){$(".ui-datepicker").css("z-index",9999)},0)}});$(document).on("change","#mainAreas",function(){var n=$(_this).val();controller.filterSubAreas(n)});$(document).on("click","#assetFilterBtn",function(){controller.filterAssets()});$(document).on("click","#shift_create_btn",function(){controller.sendCustomShift()});$(document).on("click","#areaFilterBtn",function(){controller.filterAreas()});$(document).on("click","#surveyorFilterBtn",function(){controller.requestSurveyorData()});$(document).on("click","#photoFilterBtn",function(){controller.applyFbTechFilter()});$(document).on("click",".assetFilterBtn",function(){$("#assetFilterModal").modal("show")});$(document).on("click",".areaFilterBtn",function(){$("#areaFilterModal").modal("show")});$(document).on("click",".surveyorBtn",function(){$("#visualSurveyFilterModal").modal("show")});$(document).on("click",".photoBtn",function(){$("#photometricFilterModal").modal("show")});$(document).on("click",".shift_rect_btn",function(){controller.showRectangle()});$(document).on("click",".faultyLightToggle",function(n){var r=$(n.target),t="",i=!1,u;r.prop("checked")?(t=r.attr("data-asset-id"),t=t.replace("_faultyToggle",""),i=!0):(t=r.attr("data-asset-id"),t=t.replace("_faultyToggle",""),i=!1);u={assetId:t,flag:i};$.ajax({url:"../../Map/UpdateFaultyLight",type:"post",data:u,dataType:"json",success:function(){controller.toggleFaultyLight(t,i)}})});$(document).on("click","#faultyFilterBtn",function(){controller.filterFaulty()});$(document).on("click","#assetClasses",function(){$("#assetTypeRadio").prop("checked",null);$("#allAssetRadio").prop("checked",null);$("#assetTypeRadio").prop("checked","checked")});$(document).on("click","#maintenanceTasks",function(){$("#assetTypeRadio").prop("checked",null);$("#allAssetRadio").prop("checked",null);$("#assetMaintenanceRadio").prop("checked","checked")});$(document).on("click","#assetClasses",function(){});$(window).resize(function(){controller.resize()});$(document).on("click","#searchBtn",function(){controller.applySearchFilter()})});